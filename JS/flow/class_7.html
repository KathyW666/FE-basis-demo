<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}

			li {
				list-style: none;
			}

			#box {
				width: 250;
				border: 1px solid black;
				margin: 20px;
			}

			#box h3 {
				border: 1px solid black;
				height: 30px;
				line-height: 30px;
				padding-left: 20px;
				background: deepskyblue url(img/ico1.gif) no-repeat 7px center;
			}

			#box ul li {
				padding-left: 30px;
				line-height: 30px;
				border: 1px solid black;
			}

			#box ul .active {
				background: purple;
				color: white;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<div class='section'>
				<h3>我的好友 <span>(3/10)</span></h3>
				<ul>
					<li>我的好友1</li>
					<li>我的好友2</li>
					<li>我的好友3</li>
					<li>我的好友4</li>
					<li>我的好友5</li>
					<li>我的好友6</li>
					<li>我的好友7</li>
				</ul>
			</div>
			<div class='section'>
				<h3>朋友<span>(3/10)</span></h3>
				<ul>
					<li>我的好友1</li>
					<li>我的好友2</li>
					<li>我的好友3</li>
					<li>我的好友4</li>
					<li>我的好友5</li>
					<li>我的好友6</li>
					<li>我的好友7</li>
				</ul>
			</div>
			<div class='section'>
				<h3>同学<span>(3/10)</span></h3>
				<ul>
					<li>我的好友1</li>
					<li>我的好友2</li>
					<li>我的好友3</li>
					<li>我的好友4</li>
					<li>我的好友5</li>
					<li>我的好友6</li>
					<li>我的好友7</li>
				</ul>
			</div>
		</div>

		<script type="text/javascript">
			var oBox = document.getElementById('box');
			var aSection = oBox.getElementsByClassName('section');
			var currentLi = null;		// 记录上一个this 改变样式
			for (var i = 0; i < aSection.length; i++) {
				var oTitle = aSection[i].getElementsByTagName('h3')[0];
				oTitle.isShow = true;
				oTitle.id = i;
				oTitle.onclick = function() {
					this.isShow = !this.isShow;
					var oList = aSection[this.id].getElementsByTagName('ul')[0];
					if (this.isShow) {
						oList.style.display = 'block';
						this.style.backgroundImage = 'url(img/ico2.gif)';
					} else {
						oList.style.display = 'none';
						this.style.backgroundImage = 'url(img/ico1.gif)';
					}
				}
				var aFriend = aSection[i].getElementsByTagName('li');
				for (var j = 0; j < aFriend.length; j++) {
					aFriend[j].onclick = function() {
// 						需要先清除全部样式
// 						for (var k = 0; k < aSection.length; k++) {
// 							var aTemp = aSection[k].getElementsByTagName('li');
// 							for (var m = 0; m < aTemp.length; m++) {
// 								aTemp[m].className = '';
// 							}
// 						} 
						if (currentLi) {
							currentLi.className = '';
						}
						currentLi = this
						this.className = 'active';
					}
				}
			}
		</script>
	</body>
</html>
